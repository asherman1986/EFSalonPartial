$(document).ready(function () { function e() { t("Portfolio"), setTimeout(function () { $(".currentImg").attr("src", o[0]).css({ opacity: "0" }), $(".currentImg").animate({ opacity: "1" }, 700, "easeOutQuad"), $("#Gallery .thumbWindow .reel").children().first().addClass("active"), u = $("#Gallery .thumbWindow .reel").children().first() }, 700) } function t(e) { $.ajax({ type: "POST", url: "WebService.asmx/GetDirectories", contentType: "application/json; charset=utf-8", data: '{ "directory" : "' + e + '"}', dataType: "json", success: a }).done(function () { i(l[0]) }).fail(function (e) { alert(e.d) }) } function a(e) { l = $.parseJSON(e.d); for (var t = 0; t < l.length; t++) { var a = $('<li><a href="#">' + l[t] + "</a></li>"); a.bind("click", function (e) { e.preventDefault(), i($(this).text()), setTimeout(function () { $("#Gallery .thumbWindow .reel").children().first().addClass("active"), u = $("#Gallery .thumbWindow .reel").children().first(), c(o[0]) }, 115 * o.length) }), $(".categories ul").append(a) } } function i(e) { $.ajax({ type: "POST", url: "WebService.asmx/GetFiles", contentType: "application/json; charset=utf-8", data: '{ "folderName" : "' + e + '"}', dataType: "json", success: n, failure: function () { alert("failure") } }).done(function (e) { var t = $.parseJSON(e.d), a = $("#Gallery .thumbWindow .reel"); if (a.children().length > 0) setTimeout(function () { $(".reel").empty(), a.empty(); for (var e = 0; e < t.length; e++) r(t[e].thumbHref, e), o[e] = t[e].fileHREF }, 110 * a.children().length); else for (var i = 0; i < t.length; i++) o[i] = t[i].fileHREF, r(t[i].thumbHref, i) }).fail(function (e) { alert(e.responseText) }) } function n() { var e = $("#Gallery .thumbWindow .reel"); e.children().each(function (e) { $(this).delay(100 * e).animate({ opacity: "0" }, 100, "easeOutSine") }), e.css("left", "0px") } function r(e, t) { var a = $('<img id="' + t + '" src="' + e + '" alt=""/>'); a.addClass("inactive"), a.bind("click", function () { u = $(this), $(this).parent().children().each(function () { $(this).hasClass("active") && ($(this).removeClass("active"), $(this).addClass("inactive"), $(this).css("opacity", ".5")) }), $(this).addClass("active"), $(this).css("opacity", "1"); var e = o[parseInt($(this).attr("id"))], t = parseInt($(this).attr("id")); s(t), c(e) }), a.appendTo("#Gallery .thumbWindow .reel").animate({ opacity: ".7" }, 200, "easeOutSine") } function s(e) { $thumbPanel = $("#Gallery .thumbWindow .reel"); var t = 0; return 5 > e ? "0px" != $thumbPanel.css("left") ? void $thumbPanel.animate({ left: "0px" }, 500, "easeOutQuad") : void 0 : e >= 5 && o.length - e > 5 ? (t = 67 * (e - 5) * -1, void $thumbPanel.animate({ left: t + "px" }, 500, "easeOutQuad")) : o.length - e <= 5 ? (t = 67 * (o.length - 10) * -1, void $thumbPanel.animate({ left: t + "px" }, 500, "easeOutQuad")) : void 0 } function c(e) { $(".currentImg").stop(!0, !0, !0).animate({ opacity: "0" }, 300, "easeInQuad"), setTimeout(function () { $(".currentImg").attr("src", e), $(".currentImg").animate({ opacity: "1" }, 300, "easeOutQuad") }, 500) } var l = [], o = [], u = null; e(), $(".navLeft").click(function () { var e, t = null; return u.prev().index() >= 0 ? (t = u.prev(), u.removeClass("active").css("opacity", ".5"), t.addClass("active").css("opacity", "1"), e = parseInt(t.attr("id")), c(o[e]), s(e), void (u = t)) : void (t = u) }), $(".navRight").click(function () { var e, t = null; return -1 == u.next().index() ? void (t = u) : (t = u.next(), u.removeClass("active").css("opacity", ".5"), t.addClass("active").css("opacity", "1"), e = parseInt(t.attr("id")), c(o[e]), s(e), void (u = t)) }) });